<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calcule seu financiamento e planeje seu futuro com nossa calculadora especializada.">
    <meta name="keywords" content="calculadora juros abusivos, financiamento, revisão de juros, refianciamento de juros, Cunha Soluções Jurídicas">
    <title>Calculadora de Juros Abusivos - Cunha Soluções Jurídicas</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Favicon -->
    <link rel="icon" href="/cunha.adv/img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/cunha.adv/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/cunha.adv/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/cunha.adv/img/favicon-16x16.png">
    <link rel="manifest" href="/cunha.adv/site.webmanifest">
    <style>
        /* Estilos melhorados para a calculadora */
        .pagina-area {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .calculator-container {
            background: #fff;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .calculator-container h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
            font-weight: 600;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #2c3e50;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 2px rgba(52,152,219,0.2);
        }
        
        .form-group small {
            display: block;
            margin-top: 5px;
            color: #7f8c8d;
            font-size: 0.85em;
        }
        
        .btn-calculate {
            background: #3498db;
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.3s;
        }
        
        .btn-calculate:hover {
            background: #2980b9;
        }
        
        .result-box {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            display: none;
        }
        
        .result-box h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .result-value {
            font-weight: 600;
        }
        
        .text-danger {
            color: #e74c3c;
        }
        
        .text-success {
            color: #27ae60;
        }
        
        .btn-whatsapp {
            background: #25D366;
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: background 0.3s;
        }
        
        .btn-whatsapp:hover {
            background: #128C7E;
        }
        
        /* Estilos para o modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }
        
        .modal-content h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .modal-content p {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
        }
        
        .modal-btn {
            padding: 12px 25px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .modal-whatsapp {
            background: #25D366;
            color: white;
            text-decoration: none;
        }
        
        .modal-whatsapp:hover {
            background: #128C7E;
        }
        
        .modal-close {
            background: #e74c3c;
            color: white;
            border: none;
        }
        
        .modal-close:hover {
            background: #c0392b;
        }
        
        /* Estilos para o container de instruções */
        .instructions-container {
            background: #fff;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .instructions-container h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        .instructions-container ol {
            padding-left: 25px;
            margin-bottom: 20px;
        }
        
        .instructions-container li {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        
        .instructions-container a {
            color: #3498db;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .instructions-container a:hover {
            color: #2980b9;
            text-decoration: underline;
        }
        
        .note-box {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 6px 6px 0;
        }
        
        .note-box p {
            margin-bottom: 10px;
        }
        
        .note-box p:last-child {
            margin-bottom: 0;
        }
        
        .disclaimer {
            font-size: 0.85em;
            color: #7f8c8d;
            margin-top: 20px;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .calculator-container, .instructions-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div id="header-placeholder"></div>
    
    <main class="pagina-area">
        <div class="calculator-container">
            <h1>Calculadora de Juros Abusivos</h1>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="valorFinanciado">Valor Financiado (R$)</label>
                    <input type="number" id="valorFinanciado" placeholder="Ex: 10.000" min="0" step="0.01">
                </div>
                
                <div class="form-group">
                    <label for="valorParcela">Valor da Parcela (R$)</label>
                    <input type="number" id="valorParcela" placeholder="Ex: 500" min="0" step="0.01">
                </div>
                
                <div class="form-group">
                    <label for="numeroParcelas">Número de Parcelas</label>
                    <input type="number" id="numeroParcelas" placeholder="Ex: 24" min="1">
                </div>
                
                <div class="form-group">
                    <label for="taxaMercado">Taxa Média de Mercado (% ao mês)</label>
                    <input type="number" id="taxaMercado" placeholder="Ex: 2.5" step="0.01" min="0">
                    <small>Consulte as taxas médias no site do Banco Central</small>
                </div>
            </div>
            
            <button id="calcularBtn" class="btn-calculate">Calcular Juros</button>
            
            <div id="resultado" class="result-box">
                <h3>Resultado da Análise</h3>
                
                <div class="result-item">
                    <span>Total a Pagar:</span>
                    <span class="result-value" id="totalPagar">R$ 0,00</span>
                </div>
                
                <div class="result-item">
                    <span>Juros Totais:</span>
                    <span class="result-value" id="jurosTotais">R$ 0,00</span>
                </div>
                
                <div class="result-item">
                    <span>Taxa Mensal:</span>
                    <span class="result-value" id="taxaMensal">0%</span>
                </div>
                
                <div class="result-item">
                    <span>Taxa Anual:</span>
                    <span class="result-value" id="taxaAnual">0%</span>
                </div>
                
                <div class="result-item">
                    <span>Situação:</span>
                    <span class="result-value" id="situacao">-</span>
                </div>
                
                <button id="especialistaBtn" class="btn-whatsapp" style="display: none;">
                    <i class="fab fa-whatsapp"></i> Fale com especialista
                </button>
            </div>
        </div>
        
        <!-- Container com as instruções para consulta no BACEN -->
        <div class="instructions-container">
            <h2>Como Consultar as Taxas de Juros no BACEN</h2>
            <p>Com o intuito de ajudar aos que buscam os dados de juros, segue o passo a passo para acesso deles:</p>
            
            <ol>
                <li>Acesse o site do BACEN diretamente no SGS (Sistema Gerenciador de Séries Temporais), o qual armazena todas essas informações, através do link: <a href="https://www3.bcb.gov.br/sgspub/localizarseries/localizarSeries.do?method=prepararTelaLocalizarSeries" target="_blank" rel="noopener noreferrer">https://www3.bcb.gov.br/sgspub/localizarseries/localizarSeries.do?method=prepararTelaLocalizarSeries</a></li>
                
                <li>Após entrar no link acima, clique em "Indicadores de crédito".</li>
                
                <li>Na próxima tela, clique no sinal de "+" ao lado de "Taxas de juros". Aparecerão duas opções:
                    <ul>
                        <li>"Taxas de juros – % a.a." → Taxas de juros ao ano</li>
                        <li>"Taxas de juros – % a.m." → Taxas de juros ao mês</li>
                    </ul>
                </li>
                
                <li>Clique no sinal de "+" ao lado da taxa que você gostaria de visualizar, ao ano ou ao mês. Após clique na opção "Taxas de juros com recursos livres", que contém as taxas de juros mais buscadas, como de arrendamento mercantil, aquisição de veículo, empréstimo consignado, crédito pessoal, dentre outras.</li>
                
                <li>Marque a caixa de seleção à esquerda das taxas de juros que gostaria de saber as médias. Após, clique no rodapé da página no botão "Consultar séries".</li>
                
                <li>Na tela seguinte selecione o período que gostaria de verificar as taxas e clique no botão "Visualizar valores". Se gostaria de verificar as taxas de todo o período disponibilizado pelo BACEN, clique diretamente no botão "Visualizar valores".</li>
                
                <li>Para imprimir a página em PDF, clique no botão de impressora no canto inferior direito da página, ao lado das setas. Para imprimir em Excel (CSV), clique na parte superior direita da página em "Arquivo CSV", ao lado do símbolo do disquete.</li>
                
                <li>PRONTO! Você encontrou e pode salvar o informativo com os valores oficiais do BACEN.</li>
            </ol>
            
            <div class="note-box">
                <p><strong>Observação:</strong> É possível visualizar e/ou imprimir diversas taxas no mesmo arquivo, inclusive anuais e mensais, é só voltar no passo 3 e repetir o passo 4 e 5. No momento da impressão em PDF é possível imprimir uma página por vez. Caso retorne mais de uma página de resultados, deverá imprimir uma de cada vez.</p>
                
                <p>Espero ter ajudado a quem busca essas informações. Ficou alguma dúvida? Clique em <strong>"Fale com um especialista"</strong> para te auxiliar!</p>
            </div>

            <p class="disclaimer"><em>Disclaimer: As informações aqui apresentadas são de caráter informativo e não substituem uma consulta jurídica especializada. Os resultados podem variar de acordo com cada caso.</em></p>
        </div>
        
        <!-- Modal para juros abusivos -->
        <div id="modalAbusivo" class="modal">
            <div class="modal-content">
                <h2>Atenção: Juros Abusivos Detectados!</h2>
                <p>Nossa análise identificou que os juros deste financiamento podem ser considerados abusivos pela legislação brasileira.</p>
                <p>Você pode ter direito a revisão do contrato e até restituição dos valores pagos a mais.</p>
                
                <div class="modal-actions">
                    <a id="modalWhatsappBtn" href="https://api.whatsapp.com/send/?phone=5551995249234&text=Ol%C3%A1%21+Gostaria+de+falar+com+um+especialista+sobre+juros+abusivos.&type=phone_number&app_absent=0" 
                       class="modal-btn modal-whatsapp" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-whatsapp"></i> Falar com advogado
                    </a>
                    
                    <button id="fecharModal" class="modal-btn modal-close">
                        Fechar
                    </button>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>
    
    <script src="/cunha.adv/js/loadComponents.js" defer></script>
    <script>
        // Mantido exatamente o mesmo JavaScript da versão anterior
        document.addEventListener('DOMContentLoaded', function() {
            // Elementos do DOM
            const calcularBtn = document.getElementById('calcularBtn');
            const resultadoDiv = document.getElementById('resultado');
            const especialistaBtn = document.getElementById('especialistaBtn');
            const modal = document.getElementById('modalAbusivo');
            const fecharModal = document.getElementById('fecharModal');
            
            // Função para calcular juros
            function calcularJuros() {
                // Obter valores
                const valorFinanciado = parseFloat(document.getElementById('valorFinanciado').value);
                const valorParcela = parseFloat(document.getElementById('valorParcela').value);
                const numeroParcelas = parseInt(document.getElementById('numeroParcelas').value);
                const taxaMercado = parseFloat(document.getElementById('taxaMercado').value);
                
                // Validar
                if (isNaN(valorFinanciado) || isNaN(valorParcela) || isNaN(numeroParcelas) || isNaN(taxaMercado)) {
                    alert('Por favor, preencha todos os campos corretamente.');
                    return;
                }
                
                // Cálculos
                const totalPagar = valorParcela * numeroParcelas;
                const jurosTotais = totalPagar - valorFinanciado;
                
                // Calcular taxa mensal aproximada
                let taxaMensal = 0;
                if (valorFinanciado > 0 && numeroParcelas > 0) {
                    const razao = totalPagar / valorFinanciado;
                    taxaMensal = (Math.pow(razao, 1/numeroParcelas) - 1) * 100;
                }
                
                // Calcular taxa anual
                const taxaAnual = (Math.pow(1 + taxaMensal/100, 12) - 1) * 100;
                
                // Verificar se é abusivo
                const isAbusivo = taxaMensal > (taxaMercado * 2);
                
                // Mostrar resultados
                document.getElementById('totalPagar').textContent = 'R$ ' + totalPagar.toLocaleString('pt-BR', {minimumFractionDigits: 2});
                document.getElementById('jurosTotais').textContent = 'R$ ' + jurosTotais.toLocaleString('pt-BR', {minimumFractionDigits: 2});
                document.getElementById('taxaMensal').textContent = taxaMensal.toFixed(2).replace('.', ',') + '%';
                document.getElementById('taxaAnual').textContent = taxaAnual.toFixed(2).replace('.', ',') + '%';
                
                const situacaoElement = document.getElementById('situacao');
                if (isAbusivo) {
                    situacaoElement.textContent = 'JUROS ABUSIVOS';
                    situacaoElement.className = 'result-value text-danger';
                    especialistaBtn.style.display = 'block';
                    
                    // Mostrar modal
                    modal.style.display = 'flex';
                } else {
                    situacaoElement.textContent = 'Dentro do esperado';
                    situacaoElement.className = 'result-value text-success';
                    especialistaBtn.style.display = 'none';
                }
                
                resultadoDiv.style.display = 'block';
            }
            
            // Event Listeners
            calcularBtn.addEventListener('click', calcularJuros);
            fecharModal.addEventListener('click', function() {
                modal.style.display = 'none';
            });
            
            // Fechar modal ao clicar fora
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
