<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calcule seu financiamento e planeje seu futuro com nossa calculadora especializada.">
    <meta name="keywords" content="calculadora juros abusivos, financiamento, revisão de juros, refianciamento de juros, Cunha Soluções Jurídicas">
    <title>Calculadora de Juros Abusivos | Cunha Advogados</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="/cunha.adv/css/colors.css">
    <link rel="stylesheet" href="/cunha.adv/css/style.css">
    <link rel="stylesheet" href="/cunha.adv/css/ferramentas.css">
    <link rel="stylesheet" href="/cunha.adv/css/modal.css">
    
    <!-- Favicon -->
    <link rel="icon" href="/cunha.adv/img/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/cunha.adv/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/cunha.adv/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/cunha.adv/img/favicon-16x16.png">
    <link rel="manifest" href="/cunha.adv/site.webmanifest">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="header-placeholder"></div>
    
    <main class="pagina-area">
        <div class="ferramentas-container">
            <h1 class="ferramentas-titulo">Calculadora de Juros Abusivos</h1>
            
            <div class="ferramentas-descricao">
                <p>Utilize esta calculadora para verificar se os juros do seu financiamento podem ser considerados abusivos conforme a legislação brasileira.</p>
            </div>
            
            <div class="form-group">
                <label for="valorFinanciado">Valor Financiado (R$)</label>
                <input type="number" id="valorFinanciado" placeholder="Ex: 10.000" min="0" step="0.01">
            </div>
            
            <div class="form-group">
                <label for="valorParcela">Valor da Parcela (R$)</label>
                <input type="number" id="valorParcela" placeholder="Ex: 500" min="0" step="0.01">
            </div>
            
            <div class="form-group">
                <label for="numeroParcelas">Número de Parcelas</label>
                <input type="number" id="numeroParcelas" placeholder="Ex: 24" min="1">
            </div>
            
            <div class="form-group">
                <label for="taxaMercado">Taxa Média de Mercado (% ao mês)</label>
                <input type="number" id="taxaMercado" placeholder="Ex: 2.5" step="0.01" min="0">
                <small class="input-hint">Consulte as taxas médias no site do Banco Central</small>
            </div>
            
            <button id="calcularBtn" class="btn-primary">Calcular Juros</button>
            
            <div id="resultado" class="result-box" style="display: none;">
                <h3>Resultado da Análise</h3>
                
                <div class="result-item">
                    <span>Total a Pagar:</span>
                    <span class="result-value" id="totalPagar">R$ 0,00</span>
                </div>
                
                <div class="result-item">
                    <span>Juros Totais:</span>
                    <span class="result-value" id="jurosTotais">R$ 0,00</span>
                </div>
                
                <div class="result-item">
                    <span>Taxa Mensal:</span>
                    <span class="result-value" id="taxaMensal">0%</span>
                </div>
                
                <div class="result-item">
                    <span>Taxa Anual:</span>
                    <span class="result-value" id="taxaAnual">0%</span>
                </div>
                
                <div class="result-item">
                    <span>Situação:</span>
                    <span class="result-value" id="situacao">-</span>
                </div>
                
                <button id="especialistaBtn" class="btn-whatsapp" style="display: none;">
                    <i class="fab fa-whatsapp"></i> Fale com especialista
                </button>
            </div>
        </div>
        
        <!-- Container com as instruções para consulta no BACEN -->
        <div class="instructions-container">
            <h2>Como Consultar as Taxas de Juros no BACEN</h2>
            <p>Com o intuito de ajudar aos que buscam os dados de juros, segue o passo a passo para acesso deles:</p>
            
            <ol>
                <li>Acesse o site do BACEN diretamente no SGS (Sistema Gerenciador de Séries Temporais), o qual armazena todas essas informações, através do link: <a href="https://www3.bcb.gov.br/sgspub/localizarseries/localizarSeries.do?method=prepararTelaLocalizarSeries" target="_blank" rel="noopener noreferrer">https://www3.bcb.gov.br/sgspub/localizarseries/localizarSeries.do?method=prepararTelaLocalizarSeries</a></li>
                
                <li>Após entrar no link acima, clique em "Indicadores de crédito".</li>
                
                <li>Na próxima tela, clique no sinal de "+" ao lado de "Taxas de juros". Aparecerão duas opções:
                    <ul>
                        <li>"Taxas de juros – % a.a." → Taxas de juros ao ano</li>
                        <li>"Taxas de juros – % a.m." → Taxas de juros ao mês</li>
                    </ul>
                </li>
                
                <li>Clique no sinal de "+" ao lado da taxa que você gostaria de visualizar, ao ano ou ao mês. Após clique na opção "Taxas de juros com recursos livres", que contém as taxas de juros mais buscadas, como de arrendamento mercantil, aquisição de veículo, empréstimo consignado, crédito pessoal, dentre outras.</li>
                
                <li>Marque a caixa de seleção à esquerda das taxas de juros que gostaria de saber as médias. Após, clique no rodapé da página no botão "Consultar séries".</li>
                
                <li>Na tela seguinte selecione o período que gostaria de verificar as taxas e clique no botão "Visualizar valores". Se gostaria de verificar as taxas de todo o período disponibilizado pelo BACEN, clique diretamente no botão "Visualizar valores".</li>
                
                <li>Para imprimir a página em PDF, clique no botão de impressora no canto inferior direito da página, ao lado das setas. Para imprimir em Excel (CSV), clique na parte superior direita da página em "Arquivo CSV", ao lado do símbolo do disquete.</li>
                
                <li>PRONTO! Você encontrou e pode salvar o informativo com os valores oficiais do BACEN.</li>
            </ol>
            
            <div class="note-box">
                <p><strong>Observação:</strong> É possível visualizar e/ou imprimir diversas taxas no mesmo arquivo, inclusive anuais e mensais, é só voltar no passo 3 e repetir o passo 4 e 5. No momento da impressão em PDF é possível imprimir uma página por vez. Caso retorne mais de uma página de resultados, deverá imprimir uma de cada vez.</p>
                
                <p>Espero ter ajudado a quem busca essas informações. Ficou alguma dúvida? Clique em <strong>"Fale com um especialista"</strong> para te auxiliar!</p>
            </div>

            <p class="disclaimer"><em>Disclaimer: As informações aqui apresentadas são de caráter informativo e não substituem uma consulta jurídica especializada. Os resultados podem variar de acordo com cada caso.</em></p>
        </div>
        
        <!-- Modal para juros abusivos -->
        <div id="modalAbusivo" class="modal">
            <div class="modal-content">
                <span class="modal-close" id="fecharModal">&times;</span>
                <h2>Atenção: Juros Abusivos Detectados!</h2>
                <p>Nossa análise identificou que os juros deste financiamento podem ser considerados abusivos pela legislação brasileira.</p>
                <p>Você pode ter direito a revisão do contrato e até restituição dos valores pagos a mais.</p>
                
                <div class="modal-actions">
                    <a id="modalWhatsappBtn" href="https://api.whatsapp.com/send/?phone=5551995249234&text=Ol%C3%A1%21+Gostaria+de+falar+com+um+especialista+sobre+juros+abusivos.&type=phone_number&app_absent=0" 
                       class="btn-whatsapp" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-whatsapp"></i> Falar com advogado
                    </a>
                    
                    <button id="fecharModalBtn" class="btn-secondary">
                        Fechar
                    </button>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>
    
    <script src="/cunha.adv/js/loadComponents.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elementos do DOM
            const calcularBtn = document.getElementById('calcularBtn');
            const resultadoDiv = document.getElementById('resultado');
            const especialistaBtn = document.getElementById('especialistaBtn');
            const modal = document.getElementById('modalAbusivo');
            const fecharModal = document.getElementById('fecharModal');
            const fecharModalBtn = document.getElementById('fecharModalBtn');
            
            // Função para formatar moeda
            function formatarMoeda(valor) {
                return valor.toLocaleString('pt-BR', {
                    style: 'currency',
                    currency: 'BRL',
                    minimumFractionDigits: 2
                });
            }
            
            // Função para calcular juros
            function calcularJuros() {
                // Obter valores
                const valorFinanciado = parseFloat(document.getElementById('valorFinanciado').value);
                const valorParcela = parseFloat(document.getElementById('valorParcela').value);
                const numeroParcelas = parseInt(document.getElementById('numeroParcelas').value);
                const taxaMercado = parseFloat(document.getElementById('taxaMercado').value);
                
                // Validar
                if (isNaN(valorFinanciado) || isNaN(valorParcela) || isNaN(numeroParcelas) || isNaN(taxaMercado)) {
                    alert('Por favor, preencha todos os campos corretamente.');
                    return;
                }
                
                if (valorFinanciado <= 0 || valorParcela <= 0 || numeroParcelas <= 0 || taxaMercado < 0) {
                    alert('Por favor, insira valores válidos maiores que zero.');
                    return;
                }
                
                // Cálculos
                const totalPagar = valorParcela * numeroParcelas;
                const jurosTotais = totalPagar - valorFinanciado;
                
                // Calcular taxa mensal aproximada (Método de Newton-Raphson simplificado)
                let taxaMensal = 0;
                if (valorFinanciado > 0 && numeroParcelas > 0) {
                    // Aproximação inicial
                    taxaMensal = (totalPagar / valorFinanciado - 1) / numeroParcelas * 100;
                    
                    // Refinamento (2 iterações para melhor precisão)
                    for (let i = 0; i < 2; i++) {
                        const f = valorFinanciado * Math.pow(1 + taxaMensal/100, numeroParcelas) - valorParcela * (Math.pow(1 + taxaMensal/100, numeroParcelas) - 1) / (taxaMensal/100);
                        const df = numeroParcelas * valorFinanciado * Math.pow(1 + taxaMensal/100, numeroParcelas - 1) - (valorParcela * (numeroParcelas * Math.pow(1 + taxaMensal/100, numeroParcelas - 1) * (taxaMensal/100) - (Math.pow(1 + taxaMensal/100, numeroParcelas) - 1)) / Math.pow(taxaMensal/100, 2);
                        taxaMensal = taxaMensal - f/df * 100;
                    }
                }
                
                // Calcular taxa anual
                const taxaAnual = (Math.pow(1 + taxaMensal/100, 12) - 1) * 100;
                
                // Verificar se é abusivo (considerando 50% acima da média como potencialmente abusivo)
                const isAbusivo = taxaMensal > (taxaMercado * 1.5);
                
                // Mostrar resultados
                document.getElementById('totalPagar').textContent = formatarMoeda(totalPagar);
                document.getElementById('jurosTotais').textContent = formatarMoeda(jurosTotais);
                document.getElementById('taxaMensal').textContent = taxaMensal.toFixed(2).replace('.', ',') + '%';
                document.getElementById('taxaAnual').textContent = taxaAnual.toFixed(2).replace('.', ',') + '%';
                
                const situacaoElement = document.getElementById('situacao');
                if (isAbusivo) {
                    situacaoElement.textContent = 'POTENCIALMENTE ABUSIVO';
                    situacaoElement.className = 'result-value text-danger';
                    especialistaBtn.style.display = 'block';
                    
                    // Mostrar modal
                    modal.style.display = 'flex';
                } else {
                    situacaoElement.textContent = 'Dentro do esperado';
                    situacaoElement.className = 'result-value text-success';
                    especialistaBtn.style.display = 'none';
                }
                
                resultadoDiv.style.display = 'block';
            }
            
            // Event Listeners
            calcularBtn.addEventListener('click', calcularJuros);
            
            // Fechar modal
            function fecharModalHandler() {
                modal.style.display = 'none';
            }
            
            fecharModal.addEventListener('click', fecharModalHandler);
            fecharModalBtn.addEventListener('click', fecharModalHandler);
            
            // Fechar modal ao clicar fora
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    fecharModalHandler();
                }
            });
            
            // Permitir calcular com Enter
            document.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    calcularJuros();
                }
            });
        });
    </script>
</body>
</html>
